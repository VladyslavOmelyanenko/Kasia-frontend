---
import Layout from "../layouts/Layout.astro";
import Slideshow from "../components/Slideshow.astro";
import { client, urlFor } from "../lib/sanity";

const mainPage = await client.fetch(`
  *[_type == "mainPage"][0]{
    coverGallery[]{
      ...,
      alt,
      project->{
        category,
        "slug": slug.current,
        title
      }
    }
  }
`);
---

<Layout>
  <div class="slideshow-container">
    <Slideshow
      images={mainPage?.coverGallery ?? []}
      urlFor={urlFor}
      interval={5000}
    />
  </div>
</Layout>

<style lang="scss">
  .slideshow-container {
    height: calc(100vh - (var(--page-padding) * 2));
    display: flex;
    align-items: center;
  }
</style>
